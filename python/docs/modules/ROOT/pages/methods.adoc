= Methods
:api-techniques: api:attachment$methods

== Supported methods

The following methods are supported in PyPalmSens:

Voltammetric Techniques::

- xref:{api-techniques}/linear_sweep_voltammetry/index.html[Linear Sweep Voltammetry]
- xref:{api-techniques}/cyclic_voltammetry/index.html[Cyclic Voltammetry]
- xref:{api-techniques}/fast_cyclic_voltammetry/index.html[Fast Cyclic Voltammetry]
- xref:{api-techniques}/a_c_voltammetry/index.html[AC Voltammetry]

Pulsed Techniques::

- xref:{api-techniques}/differential_pulse_voltammetry/index.html[Differential Pulse Voltammetry]
- xref:{api-techniques}/square_wave_voltammetry/index.html[Square Wave Voltammetry]
- xref:{api-techniques}/normal_pulse_voltammetry/index.html[Normal Pulse Voltammetry]

Amperometric Techniques::

- xref:{api-techniques}/chrono_amperometry/index.html[Chronoamperometry]
- xref:{api-techniques}/multi_step_amperometry/index.html[Multistep Amperometry]
- xref:{api-techniques}/fast_amperometry/index.html[Fast Amperometry]
- xref:{api-techniques}/pulsed_amperometric_detection/index.html[Pulsed Amperometric Detection]
- xref:{api-techniques}/multiple_pulse_amperometry/index.html[Multiple Pulse Amperometry]

Potentiometric Techniques::

- xref:{api-techniques}/open_circuit_potentiometry/index.html[Open Circuit Potentiometry]
- xref:{api-techniques}/chrono_potentiometry/index.html[Chronopotentiometry]
- xref:{api-techniques}/linear_sweep_potentiometry/index.html[Linear Sweep Potentiometry]
- xref:{api-techniques}/multi_step_potentiometry/index.html[Multistep Potentiometry]
- xref:{api-techniques}/stripping_chrono_potentiometry/index.html[Stripping Chronopotentiometry]

Coulometric techniques::

- xref:{api-techniques}/chrono_coulometry/index.html[Chronocoulometry]

Other::

- xref:{api-techniques}/impedance_spectroscopy/index.html[Impedance Spectroscopy]
- xref:{api-techniques}/fast_impedance_spectroscopy/index.html[Fast Impedance Spectroscopy]
- xref:{api-techniques}/galvanostatic_impedance_spectroscopy/index.html[Galvanostatic Impedance Spectroscopy]
- xref:{api-techniques}/fast_galvanostatic_impedance_spectroscopy/index.html[Fast Galvanostatic Impedance Spectroscopy]
- xref:{api-techniques}/mixed_mode/index.html[Mixed Mode]
- xref:{api-techniques}/method_script/index.html[Method Script]

== Setting up a method

This example creates a method for a square-wave voltammetry measurement versus the open circuit potential:

[,python]
----
>>> import pypalmsens as ps

>>> method = ps.SquareWaveVoltammetry(
...    conditioning_potential = 2.0,  # V
...    conditioning_time = 2,  # seconds
...    versus_ocp_mode = 3,  # versus begin and end potential
...    versus_ocp_max_ocp_time = 1,  # seconds
...    begin_potential = -0.5,  # V
...    end_potential = 0.5,  # V
...    step_potential = 0.01,  # V
...    amplitude = 0.08,  # V
...    frequency = 10,  # Hz
...)
----

Because methods are https://www.attrs.org/index.html[attrs dataclasses], all attributes can be modified afterwards:

[,python]
----
>>> method.begin_potential = -1.0
>>> method.end_potential = 1.0
>>> method.step_potential = 0.02
----

Dataclasses can be serialized to and from a dictionary:

[,python]
----
>>> d = method.to_dict()
>>> d
{'equilibration_time': 0.0,
 'begin_potential': -1.0,
 'end_potential': 1.0,
 'step_potential': 0.02,
 'frequency': 10,
 'amplitude': 0.08,
 ...}
>>> method2 == ps.SquareWaveVoltammetry(**d)
>>> method == method2
True
----

It can be updated like a dataclass:

[,python]
----
>>> from attrs import evolve
>>> method2 = evolve(method, equilibration_time=10.0)
>>> method == method2
False
----

[TIP]
====
The VSCode Debug Console or another Python REPL environment like https://ipython.readthedocs.io[IPython] will auto complete on the properties and functions.

image::ipython_autocomplete.png[Debug console in VSCode]
====

=== Common settings

Many settings are shared between methods.
For a full listing, see the xref:{api-techniques}/settings/index.html[method settings API reference].

If you don't specify any arguments, the default values are loaded.
These are accessible via attributes on the methods.

For example:

[,python]
----
>>> cv = ps.CyclicVoltammetry()
>>> cv.current_range
CurrentRange(
    max=<CURRENT_RANGE.cr_10_mA: 8>,
    min=<CURRENT_RANGE.cr_1_uA: 4>,
    start=<CURRENT_RANGE.cr_100_uA: 6>,
)
----

There are two ways to modify the current ranges, for example, if you want so set the start current at 10 Î¼A.

1. By passing current ranges as an argument during initialization
+
[,python]
----
>>> cv = ps.CyclicVoltammetry(
...     current_range=ps.settings.current_range(
...         start='cr_10_uA'
...     )
... )
>>> cv.current_range
CurrentRange(
    max=<CURRENT_RANGE.cr_10_mA: 8>,
    min=<CURRENT_RANGE.cr_1_uA: 4>,
    start=<CURRENT_RANGE.cr_10_uA: 5>, # <1>
)
----
<1> Only the start value was set, so the min/max are populated with the defaults.

2. By updating the attributes (after initialization)
+
[,python]
----
>>> cv = ps.CyclicVoltammetry()
>>> cv.current_range.start = 'cr_10_uA'
----

[TIP]
.Fixed ranges
====
If you want to use a fixed current (or potential) range,
you can save yourself some typing by passing `CURRENT_RANGE` directly.
This automatically expands into the `CurrentRange` object with `min`, `max`, and `start` equal.

[,python]
----
>>> cv = ps.CyclicVoltammetry(
...    current_range='cr_10_uA'
... )
>>> cv.current_range
CurrentRange(
    max=<CURRENT_RANGE.cr_10_uA: 5>,
    min=<CURRENT_RANGE.cr_10_uA: 5>,
    start=<CURRENT_RANGE.cr_10_uA: 5>,
)
----
====

== Starting a measurement

For further information on how to run a measurement:

* xref:measuring.adoc[]
* xref:examples.adoc[]
