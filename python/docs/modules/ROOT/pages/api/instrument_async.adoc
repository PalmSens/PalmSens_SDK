= Instrument management (async)

The `InstrumentManagerAsync()` class and supporting functions use
https://docs.python.org/3/library/asyncio.html[asyncio] to
provide a high-performance concurrent interface
for instrument control.

These api for these functions and classes remain largely the same as the xref:api/instrument.adoc[sequential versions].

The main difference is that these are async enabled.
This means you have to use the await/async expressions to manage the event loop.

For example, to connect:

[,python]
----
import pypalmsens as ps

async with await ps.connect_async() as manager:
        method = ps.ChronoAmperometry()
        measurement = await manager.measure(method)
----

or using `InstrumentManagerAsync()` directly as a context manager:

[,python]
----
instruments = await discover_async()

async with ps.InstrumentManagerAsync(instruments[0]) as manager:
    measurement = await manager.measure(method)
----

or managing the instrument connection yourself:

[,python]
----
instruments = await discover_async()

manager = ps.InstrumentManagerAsync(instruments[0])
await manager.connect()
...
await manager.disconnect()
----

For more information, see xref:api/measuring.adoc

include::partial$api/instrument_async.adoc[]
